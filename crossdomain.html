<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>CrossDomain</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="js/jquery.js"></script>
    </head>
    <body>
        <div>
            <p>config.xml</p>
            <pre class='brush: xml;'>
                &lt;access origin="*"/&gt;
            </pre> 
            <button type="button" onclick="Ajax()">Click Me!</button>
            <p id="resposta"></p>
        </div>

        <script>

            function Ajax() {
                $.support.cors = true;
                jQuery.support.cors = true;
                jQuery.allowCrossDomainPages=true;
                 $.allowCrossDomainPages = true;
                alert('in');
                $.ajax({
                    url: "http://arduino.igori.webfactional.com/ajax.php",
                    type: "POST",
                    dataType: 'jsonp', //use jsonp data type in order to perform cross domain ajax
                    crossDomain: true, 
                            data: {
                                accion: "crossdomain",
                                text: "text de prova"
                            },
                            success: onDataReceived
                });
                function onDataReceived(data) {
                    alert('out');

                }
            }
        </script>
    </body>
</html>
